"use client";

import { useStore } from '@/store/store'
import { Metadata } from 'next';
import { Grid, Card, CardHeader, CardContent, IconButton } from '@mui/material';
import AddIcon from '@mui/icons-material/Add';
import TaskList from '@/components/TaskList/TaskList';

export const metadata:Metadata = {
  title: 'Home - OpenJira',
  description: 'Generated by Camilo Ordo√±ez',
}

export default async function Home() {

  return (
    <Grid container spacing={2}>
      <Grid item xs={12} sm={4}>
        <Card sx={{height: 'calc(100vh - 100px)'}}>
          <CardHeader 
          title="To Do"
          action={
            <IconButton aria-label="settings" onClick={useStore(state => state.addTask)}>
              <AddIcon />
            </IconButton>
          }/>
          <TaskList status='pending'/>
        </Card>
      </Grid>
      <Grid item xs={12} sm={4}>
        <Card sx={{height: 'calc(100vh - 100px)'}}>
          <CardHeader 
          title="In Progress"
          action={
            <IconButton aria-label="settings" onClick={useStore(state => state.addTask)}>
              <AddIcon />
            </IconButton>
          }/>
          <TaskList status='in-progress'/>
        </Card>
      </Grid>
      <Grid item xs={12} sm={4}>
        <Card sx={{height: 'calc(100vh - 100px)'}}>
          <CardHeader 
          title="Done"
          action={
            <IconButton aria-label="settings" onClick={useStore(state => state.addTask)}>
              <AddIcon />
            </IconButton>
          }/>
          <TaskList status='finished'/>
        </Card>
      </Grid>
    </Grid>
  )
}
